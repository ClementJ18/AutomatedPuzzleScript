\documentclass[a4paper,10pt,titlepage]{report}
%%This template is based on Paco van Beckhoven's thesis. 

\usepackage{xspace}
\usepackage{xargs}   % Use more than one optional parameter in a new commands
\usepackage[pdftex,dvipsnames]{xcolor}

% Putting images next to each other
\usepackage[font=bf,]{caption}
\usepackage{subcaption}
\input{glyphtounicode}

% for last page
\usepackage{lastpage}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{csquotes}
\usepackage[margin=1in]{geometry}
\usepackage{fancyhdr}
\usepackage{booktabs}
\usepackage{paralist}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{adjustbox}
\usepackage{titlepic}
\usepackage{vhistory}
\usepackage{enumitem}
\usepackage{longtable}
\usepackage[backend=biber, style=ieee,citestyle=numeric-comp]{biblatex}
\usepackage[colorinlistoftodos, prependcaption]{todonotes}
\usepackage{placeins}
\usepackage{multirow}
\usepackage{amsmath,amssymb}
\usepackage[hidelinks]{hyperref}
\usepackage[acronym,nogroupskip,nohypertypes={acronym},toc,section=chapter]{glossaries}
\usepackage{amssymb}
\usepackage{verbatim}
\usepackage{cmap}
\usepackage{soul}

%\usepackage[ansinew]{inputenc}
%\usepackage[T1]{fontenc}
%\usepackage{libertine}
\input{glyphtounicode}

\pdfglyphtounicode{f_f}{FB00}
\pdfglyphtounicode{f_f_i}{FB03}
\pdfglyphtounicode{f_f_l}{FB04}
\pdfglyphtounicode{f_i}{FB01}

\pdfgentounicode=1



%Appendix package + appendix in chapter title
\usepackage[titletoc]{appendix}

\definecolor{darkbrown}{rgb}{0.4, 0.26, 0.13}
\definecolor{lightbrown}{rgb}{0.71, 0.4, 0.11}
\definecolor{BurntOrange}{rgb}{0.8, 0.33, 0.0}
\definecolor{BurntRed}{rgb}{0.5, 0.0, 0.13}
\definecolor{PineGreen}{rgb}{0.0, 0.47, 0.44}
\definecolor{MidnightBlue}{rgb}{0.1, 0.1, 0.44}
\definecolor{YellowGreen}{rgb}{0.68, 1.0, 0.18}

%for highlighting findings
\usepackage{tcolorbox}

% for highlighting code examples
\usepackage{listings}

\newcommand{\ie}{\emph{i.e.},\xspace}
\newcommand{\eg}{\emph{e.g.},\xspace}
\newcommand{\etc}{\emph{etc.}\xspace}
\newcommand{\etal}{\emph{et al.}\xspace}

\newcommand{\sig}{\gls{sig}}
\newcommand{\sigs}{\glspl{sig}}

\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1, inline]{#2}}
\newcommandx{\discussion}[2][1=]{\todo[linecolor=red,backgroundcolor=green!25,bordercolor=red,inline,#1]{#2}}

\newcommandx{\improvement}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}

\newcommandx{\reminder}[2][1=]{\todo[linecolor=yellow,backgroundcolor=yellow!25,bordercolor=yellow,#1]{#2}}

\newcommandx{\lessprio}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommandx{\todocontent}[2][1=]{\todo[author=\textbf{Planned content},backgroundcolor=Goldenrod!25,bordercolor=Goldenrod,inline,#1]{#2}}


%%Some additional table column specifiers, allowing for fixed width columns that wrap.
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}

\definecolor{ryel}{HTML}{fcd116}
\definecolor{rred}{HTML}{ce1126}
\definecolor{rblu}{HTML}{0a3eb9}
%these are examples of commands that may facilitate feedback annotations in the document
%replace \paco by your name and \ana by your supervisor's name
%\newcommandx{\ana}[2][1=]{\todo[linecolor=rblu,backgroundcolor=ryel,bordercolor=rred,#1]{#2}}
%\newcommandx{\paco}[2][1=]{\todo[author=Paco,linecolor=blue,backgroundcolor=white,bordercolor=red,#1]{#2}}


% -- title page is a modified version of https://github.com/software-engineering-amsterdam/latex/blob/master/thesis/uvamscse.cls
\newcommand{\email}[1]{\ttfamily\href{mailto:#1}{#1}}

\newcommand{\uvacoverfoot}{%
	\vfill
	\begin{center}
		\begin{tabular}{r|l}
			\multirow{3}{*}{\includegraphics[height=48pt]{uva.pdf}}
			&\textsc{\Large Universiteit van Amsterdam}\\
			&\textsc{Faculteit der Natuurwetenschappen, Wiskunde en Informatica}\\
			&\textsc{Master Software Engineering}\\
			&\url{http://www.software-engineering-amsterdam.nl}
		\end{tabular}
	\end{center}
}

\renewcommand{\maketitle}{%
	% The cover page
	% --------------
	\thispagestyle{empty}
	\enlargethispage{30pt}
	\renewcommand{\thefootnote}{\fnsymbol{footnote}}
	% Will be page 0, s.t. contents start on page 1
	\setcounter{page}{0}
	% \eccoverhead
	% Volume and article title, author(s)
	\vspace{60pt}
	\begin{center}
		{\Huge\bfseries ScriptButler: Leveraging Meta-programming Principles to Facilitate the Software Evolution of Digital Games \par}
		
		\vspace{44pt}
		{\Large\bfseries Clement Julia \par}
		\email{clement.julia@student.uva.nl}\\
		\vspace{11pt}
		January 31, 2022, \pageref{LastPage} pages
	\end{center}
	\vfill
	\begin{tabular}{p{0.35\linewidth} p{0.6\linewidth}}
		\textbf{Academic supervisor:} 	& Riemer van Rozen, \email{R.A.van.Rozen@cwi.nl} \\
		\textbf{Second Reader:} 	& Ana Oprescu, \email{a.m.oprescu@uva.nl} \\
		\textbf{Third Reader:} 	& Anders Bouwer, \email{a.j.bouwer@hva.nl} \\
% 		\textbf{Daily supervisor:} & Name industry/daily supervisor, \email{industry supervisor email}\\
		\textbf{Research group:} & Centrum Wiskunde \& Informatica, Software Analysis \& Transformation, \url{https://www.cwi.nl/research/groups/software-analysis-and-transformation}
	\end{tabular}
	\uvacoverfoot
	\newpage
	\setcounter{footnote}{0}
	\renewcommand{\thefootnote}{\arabic{footnote}}
	\setlength{\parskip}{0pt}
}

%\newcommand{\uvaabstract}{}latex 
%\renewcommand{\abstract}[2][Abstract]{\renewcommand{\uvaabstract}{\chapter*{Abstract}%
%\par#2\newpage}}


%-------- End of ``title page''

%Fancy page headers
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\leftmark}
\fancyfoot[C]{\thepage}
\setlength{\headheight}{14pt}


%%FINDING ENV
\newcounter{findingctr}

\newenvironment{finding}{%      define a custom environment
	\refstepcounter{findingctr}% increment the environment's counter
	\begin{tcolorbox}
	\textbf{Finding \thefindingctr:}
}{\end{tcolorbox}} 
% If you want numbers that start with the chapter or section number (e.g. 7.1.1 or 7.1) enable the following lines 
%\usepackage{amsmath}
%\numberwithin{findingctr}{chapter}


% Decrease the size of all these lists
\setlist{noitemsep,topsep=4pt,parsep=1pt,partopsep=4pt}


\lstset{
	basicstyle=\footnotesize,        % the size of the fonts that are used for the code
	breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
	breaklines=true,                 % sets automatic line breaking
	captionpos=b,                    % sets the caption-position to bottom
	frame=single,                    % adds a frame around the code
	language=Java,                 % the language of the code
	keywordstyle=\bf,
	tabsize=2                       % sets default tabsize to 2 spaces
}

%make it fit more nicely
\setlength\extrarowheight{2pt}

\lstdefinestyle{codeStyle}
{
  basicstyle=\sffamily\scriptsize,
  %multicols=1,
  commentstyle=\color{darkgray},
  %numberstyle=\small, %\bfseries, %\scriptsize,
  numberstyle=\sffamily\scriptsize,
  stepnumber=1,
  numbersep=5pt,  
  xleftmargin=0pt, 
  %backgroundcolor=\color{whitesmoke},
  breaklines = true,
  breakatwhitespace = true,%
}

\lstdefinelanguage{rascal}
{
  style=codeStyle, morekeywords={if,else,void,rel,lrel,loc,str,module,import,for,while,do,in,notin,has,is,insert,append,syntax,lexical,keyword,layout,case,it,list,set,return,default,node,switch,when,top-down,top,down,break,bottom,up,continue,public,private,start,visit,tuple,map,assert,int,data,alias,bool,o,any,all,set},%
   sensitive=true,%
 %commentstyle=\sffamily,%
 columns=[c]fullflexible,% 
 keywordstyle=\bfseries,%
 %basicstyle=\sffamily,%
 showstringspaces=false,%
 literate={{=>}{{$\Rightarrow$}}1{=>}{{$\Rightarrow$}}1{<-}{{$\leftarrow$}}1{<=}{{$\leq$}}1{>=}{{$\geq$}}1{!=}{{$\neq$}}1{<==>}{{$\Leftrightarrow$}}1},%
 %columns=fullflexible,%
   morecomment=[l]//,%
   morecomment=[l]\#\#,%
   morecomment=[s]{=BEGIN}{=END},%
   %mathescape=true,%
   commentstyle={\color{darkgray}\let\textcolor\nocolor},%  
   stringstyle={\color{Purple}\let\textcolor\nocolor},%  
   morestring=[b]',%
   morestring=[b]",%   
   numbers=left,%
   frame=tb,   
  }[keywords,comments,strings]%

\lstdefinelanguage{PuzzleScript}
{
  style=codeStyle,
  basicstyle=\ttfamily\scriptsize, 
  columns=fixed,
  %moredelim=[is][\underbar]{_}{_},  
  morekeywords= {title,author,homepage,=,OBJECTS,LEGEND,SOUNDS,COLLISIONLAYERS,RULES,WINCONDITIONS,LEVELS,All,on},
  sensitive=true,
  morecomment=[l]{==},
  escapechar=\$,
}

\input{acronym}
\makeglossaries
\bibliography{main}

\begin{document}



\maketitle
\input{sections/abstract}
\tableofcontents
\input{sections/introduction}
\input{sections/background}
\input{sections/puzzlescript_reverse}
\input{sections/research}
\input{sections/case}
\input{sections/discussion}
\input{sections/related_work}
\input{sections/conclusion}
\input{sections/acknowledgements}

\nocite{*}
\printbibliography[type=article,title={Articles}]
\printbibliography[type=software,title={Software}]
\printglossaries%

%TC:ignore
\input{sections/appendix}
%TC:endignore

\end{document}
